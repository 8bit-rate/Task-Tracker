@model IEnumerable<ToDoList>
@{
	ViewData["Title"] = "Index";
	var createdTasks = Model.Where(x => x.Status == ToDo_List.Models.TaskStatus.Created);
	var inProcessTasks = Model.Where(x => x.Status == ToDo_List.Models.TaskStatus.InProcess);
	var donedTasks = Model.Where(x => x.Status == ToDo_List.Models.TaskStatus.Doned);
}
<div class="container p-3">
	<div class="row pt-4">
		<div class="col-6">
			<h2 class="text-primary">My tasks</h2>
		</div>
		<div class="col-6 text-end">
		   <a asp-controller="ToDoList" asp-action="Create" class="btn btn-outline-secondary"><i class="bi bi-plus-square"></i> &nbsp; New Task!</a>
		</div>
	</div>
</div>
<hr />
<div class="container">
<div class="row justify-content-start">
	<div class="col-4">
		@foreach (var task in createdTasks)
		{
		<div class="card border-primary mb-3" style="max-width: 30rem; min-height: auto">
		  <div class="card-header">Task dated @task.CreatedDateTime</div>
		  <div class="card-body">
			<h4 class="card-title">@task.Content</h4>
			<p class="card-text">Importance: @task.Importance</p>
			<p class="card-text">Description: @task.Description</p>
			<p class="card-text">Notes: @task.Note</p>
			<p class="card-text">Status: @task.Status</p>
			<p class="card-text">Start: @task.DateStart</p>
			<p class="card-text">Deadline: @task.Deadline</p>
			@if (task.ImageModel != null)
			{
				<p class="card-text">
				<img class="card-img" src="@($"/Tasks/Task{task.Id}/{task.ImageModel.ImageTitle}")" alt="Task image capture">
				</p>
			}
			<div class="w-75 btn-group" role="group">
			  <a asp-controller="ToDoList" asp-action="Edit" asp-route-id="@task.Id" class="btn btn-outline-info">
				<i class="bi bi-pencil-square"></i> Edit </a> &nbsp &nbsp;
			  <a asp-controller="ToDoList" asp-action="Delete" asp-route-id="@task.Id" class="btn btn-outline-danger">
				<i class="bi bi-trash"></i> Delete</a>
			</div>
		  </div>
		</div>
		}
		</div>
	<div class="col-4">
		@foreach (var task in inProcessTasks)
		{
		<div class="card border-light mb-3" style="max-width: 30rem; min-height: 27rem">
		  <div class="card-header">Task dated @task.CreatedDateTime</div>
		  <div class="card-body">
			<h4 class="card-title">@task.Content</h4>
			<p class="card-text">Importance: @task.Importance</p>
			<p class="card-text">Description: @task.Description</p>
			<p class="card-text">Notes: @task.Note</p>
			<p class="card-text">Status: @task.Status</p>
			<p class="card-text">Start: @task.DateStart</p>
			<p class="card-text">Deadline: @task.Deadline</p>
			@if (task.ImageModel != null)
			{
				<p class="card-text">
				<img class="card-img" src="@($"/Tasks/Task{task.Id}/{task.ImageModel.ImageTitle}")" alt="Task image capture">
				</p>
			}
			<div class="w-75 btn-group" role="group">
			  <a asp-controller="ToDoList" asp-action="Edit" asp-route-id="@task.Id" class="btn btn-outline-info">
				<i class="bi bi-pencil-square"></i> Edit </a> &nbsp &nbsp;
			  <a asp-controller="ToDoList" asp-action="Delete" asp-route-id="@task.Id" class="btn btn-outline-danger">
				<i class="bi bi-trash"></i> Delete</a>
			</div>
		  </div>
		</div>
		}
		</div>
	<div class="col-4">
		@foreach (var task in donedTasks)
		{
		<div class="card border-success mb-3" style="max-width: 30rem; min-height: 27rem">
		  <div class="card-header">Task dated @task.CreatedDateTime</div>
		  <div class="card-body">
			<h4 class="card-title">@task.Content</h4>
			<p class="card-text">Importance: @task.Importance</p>
			<p class="card-text">Description: @task.Description</p>
			<p class="card-text">Notes: @task.Note</p>
			<p class="card-text">Status: @task.Status</p>
			<p class="card-text">Start: @task.DateStart</p>
			<p class="card-text">Deadline: @task.Deadline</p>
			@if (task.ImageModel != null)
			{
				<p class="card-text">
				<img class="card-img" src="@($"/Tasks/Task{task.Id}/{task.ImageModel.ImageTitle}")" alt="Task image capture">
				</p>
			}
			<div class="w-75 btn-group" role="group">
			 <a asp-controller="ToDoList" asp-action="Edit" asp-route-id="@task.Id" class="btn btn-outline-info">
				<i class="bi bi-pencil-square"></i> Edit </a> &nbsp &nbsp;
			<a asp-controller="ToDoList" asp-action="Delete" asp-route-id="@task.Id" class="btn btn-outline-danger">
				<i class="bi bi-trash"></i> Delete</a>
			</div>
		  </div>
		</div>
		}
	</div>
</div>
</div>

